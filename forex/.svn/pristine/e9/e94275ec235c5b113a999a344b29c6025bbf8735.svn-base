<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- 
    Mapping file autogenerated by MyEclipse Persistence Tools
-->
<hibernate-mapping>
    <class name="com.talent.forex.bean.domain.AccInfo" table="acc_info" catalog="forex">
        <id name="id" type="java.lang.Integer">
            <column name="ID" />
            <generator class="identity" />
        </id>
        <property name="userNum" type="java.lang.String">
            <column name="USER_NUM" length="30" not-null="true" />
        </property>
        <property name="accno" type="java.lang.String">
            <column name="ACCNO" length="19" not-null="true" />
        </property>
        <property name="accType" type="java.lang.String">
            <column name="ACC_TYPE" length="1" not-null="true" />
        </property>
        <property name="ccy" type="java.lang.String">
            <column name="CCY" length="3" not-null="true" />
        </property>
        <property name="originalAmt" type="java.lang.String">
            <column name="ORIGINAL_AMT" length="30" not-null="true" />
        </property>
        <property name="amount" type="java.lang.String">
            <column name="AMOUNT" length="30" not-null="true" />
        </property>
        <property name="activeDate" type="java.lang.String">
            <column name="ACTIVE_DATE" length="14" />
        </property>
        <property name="createDate" type="java.lang.String">
            <column name="CREATE_DATE" length="14" not-null="true" />
        </property>
    </class>
    <query name="getAccInfoListByGroupOne">
    <![CDATA[
    	 select new com.talent.forex.bean.model.AccInfoModel(t.userNum, t.accno, t.ccy, t.originalAmt, t.amount) 
    	 from AccInfo t , Users u
    	 where t.userNum=u.userNum  
    	 and t.accType=?
    	 and u.groupOne=?
	]]>
    </query>
    <query name="getAccInfoListByGroupTwo">
    <![CDATA[
    	 select new com.talent.forex.bean.model.AccInfoModel(t.userNum, t.accno, t.ccy, t.originalAmt, t.amount) 
    	 from AccInfo t , Users u
    	 where t.userNum=u.userNum  
    	 and t.accType=?
    	 and u.groupTwo=?
	]]>
    </query>
    
   <query name="getAccountInfoModel">
    	select new com.talent.forex.bean.model.AccountInfoModel(
    		accInfo.userNum, accInfo.accno, accInfo.accType,
			accInfo.ccy, accInfo.originalAmt, accInfo.amount)
		from AccInfo accInfo,Users user  
		where accInfo.userNum=user.userNum
		and user.groupOne like ? 
		and user.groupTwo like ? 
		and user.userNum like ?
    </query>
    
    <query name="getAccInfoUserNum">
    	select new com.talent.forex.bean.model.AccountInfoModel(
    		accInfo.userNum)
		from AccInfo accInfo
		group by accInfo.userNum
    </query>
    
    <query name="getCorreAccountInfoModel">
    	select new com.talent.forex.bean.model.AccountInfoModel(
    		accInfo.userNum, accInfo.accno, accInfo.accType,
			accInfo.ccy, accInfo.originalAmt, accInfo.amount)
		from AccInfo accInfo where accInfo.userNum=?
    </query>
</hibernate-mapping>
